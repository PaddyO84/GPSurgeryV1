<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Book an appointment at Example Health Centre. Learn about appointment types, home visits, and emergency information.">
    <title>Appointments - Example Health Centre</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="js/theme.js"></script>
    <script src="js/config.js"></script>
</head>
<body>
    <header id="header-placeholder"></header>

    <div class="container">
        <h2 class="section-title">Appointments</h2>

        <div class="card" style="margin-bottom: 3rem; background-color: var(--gray-50); border-color: var(--primary-color);">
            <h2 class="form-title" style="margin-bottom: var(--space-4);">Request an Appointment</h2>
            <p class="form-subtitle" style="margin-bottom: var(--space-6);">This is a <strong>request form</strong>, not a live booking system. Our reception team will contact you to confirm a final date and time.</p>
            <form id="appointmentForm" onsubmit="event.preventDefault(); submitAppointment();">
                 <fieldset class="form-section" style="background-color: var(--white);">
                    <legend>Patient Details</legend>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="appName">Full Name</label>
                            <input type="text" id="appName" required placeholder="Enter your full name">
                        </div>
                        <div class="form-group">
                            <label for="appDob">Date of Birth</label>
                            <input type="date" id="appDob" required>
                        </div>
                        <div class="form-group">
                            <label for="appPhone">Phone Number</label>
                            <input type="tel" id="appPhone" required placeholder="08X XXX XXXX">
                        </div>
                        <div class="form-group">
                            <label for="appEmail">Email Address</label>
                            <input type="email" id="appEmail" required placeholder="your.email@example.com">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="appAddress">Home Address</label>
                        <textarea id="appAddress" rows="2" required placeholder="Please enter your full address..."></textarea>
                    </div>
                </fieldset>
                <fieldset class="form-section" style="background-color: var(--white);">
                    <legend>Appointment Details</legend>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="appType">Appointment Type</label>
                            <select id="appType" required>
                                <option value="" disabled selected>Select Type...</option>
                                <option value="Routine GP Visit">Routine GP Visit</option>
                                <option value="Blood Test">Blood Test</option>
                                <option value="Vaccination">Vaccination</option>
                                <option value="Nurse Visit">Nurse Visit</option>
                                <option value="Review">Review (Long Term Illness)</option>
                                <option value="Other">Other (Please specify below)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="appTime">Preferred Time</label>
                            <select id="appTime" required>
                                <option value="Morning (9am - 12pm)">Morning (9am - 12pm)</option>
                                <option value="Afternoon (2pm - 4:30pm)">Afternoon (2pm - 4:30pm)</option>
                                <option value="Anytime">Anytime</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="appNotes">Reason for Visit / Notes</label>
                        <textarea id="appNotes" rows="3" placeholder="Please provide a brief reason to help us triage your appointment..."></textarea>
                    </div>
                </fieldset>
                <div class="submit-area" style="border:none; padding:0; margin-top: var(--space-6);">
                    <button type="submit" class="submit-btn" style="width: 100%;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="20" height="20" style="margin-right: 8px;" aria-hidden="true"><path d="M10 2a.75.75 0 01.75.75v6.5h6.5a.75.75 0 010 1.5h-6.5v6.5a.75.75 0 01-1.5 0v-6.5h-6.5a.75.75 0 010-1.5h6.5v-6.5A.75.75 0 0110 2z" /></svg>
                        Submit Appointment Request
                    </button>
                </div>
            </form>
            <div id="appSuccessMessage" style="display: none; text-align: center; padding: 2rem;">
                <div class="success-animation">
                    <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>
                </div>
                <h2 class="success-title">Request Sent</h2>
                <p class="success-message">Thank you. We have received your appointment request and will contact you shortly to confirm the exact time and date.</p>
                <button class="btn" onclick="location.reload()">Make Another Request</button>
            </div>
        </div>

        <!-- Info Section -->
        <h3 style="margin-bottom: 1.5rem; color: var(--secondary-color);">Appointment Information</h3>

        <div class="alert-card" style="margin-bottom: 2rem;">
            <h3>Telephone Booking</h3>
            <p>To book your appointment please call reception on <a href="tel:012345679"><strong>(01) 234 5679</strong></a></p>
            <br>
            <p>Our phone lines are very busy at present, particularly on Monday and Tuesday mornings. Please try to avoid these times when calling the Surgery for something non-urgent.</p>
            <p>We will always endeavour to offer appointments as soon as possible.</p>
            <p>You may be asked a series of questions to help prioritise urgency and we ask that you are patient with our Receptionists.</p>
        </div>

        <div style="background-color: #fff3cd; color: #856404; padding: 1rem; border-radius: 8px; margin-bottom: 2rem; border: 1px solid #ffeeba;">
            <strong>NOTE:</strong> THERE IS A â‚¬20 CHARGE FOR THOSE WHO DO NOT ATTEND A PRIVATE APPOINTMENT
        </div>

        <div class="card" style="margin-bottom: 2rem;">
            <button class="accordion">Length of Appointments</button>
            <div class="panel">
                <p>Each appointment is 15 minutes in length, although special consultations may take longer (e.g., 6-week check, minor operations). A request for an extended appointment may be discussed at reception.</p>
            </div>

            <button class="accordion">Routine Appointments</button>
            <div class="panel">
                <p>Consultations for non-urgent health issues, Follow-up consultations, and Consultations to discuss pre-existing conditions.</p>
            </div>

            <button class="accordion">2nd Family Member Appointments</button>
            <div class="panel">
                <p>Book separate appointments for each family member. Depending on the type of appointment, a reduced second fee may apply.</p>
            </div>

            <button class="accordion">Late Arrivals</button>
            <div class="panel">
                <p>If you arrive more than 10 minutes late for your appointment, you may be asked to reschedule your appointment.</p>
            </div>

            <button class="accordion">Home Visits</button>
            <div class="panel">
                <p>Home visits are only appropriate for patients who are housebound because of serious illness or disability. Your GP may phone you back to determine if your health issue can be advised over the phone, with a home-visit or if attendance to the hospital/clinic may be more appropriate.</p>
            </div>

            <button class="accordion">Urgent Appointments</button>
            <div class="panel">
                <p>We will always endeavour to accommodate any urgent cases even if appointments are fully booked but in some cases, you may be asked to be seen and triaged by a member of the Practice Nurse Team.</p>
            </div>

            <button class="accordion">Emergencies</button>
            <div class="panel">
                <p>The following conditions are life-threatening & you should call <strong>112</strong> or <strong>999</strong> immediately:</p>
                <ul>
                    <li>Sudden severe chest pain</li>
                    <li>Severe breathlessness</li>
                    <li>Loss of power in a limb</li>
                    <li>Loss of consciousness or severe bleeding</li>
                </ul>
            </div>

            <button class="accordion">Injuries</button>
            <div class="panel">
                <p>We treat minor injuries like small cuts and joint sprains. For severe injuries such as broken bone, please attend your local A&E department.</p>
            </div>

            <button class="accordion">Poisoning</button>
            <div class="panel">
                <p>If you have a concern about potential poisoning please call the <a href="tel:018092166">National Poisons Information Centre (01) 809 2166</a>.</p>
                <p>If it is an emergency or potential overdose call 112 or 999.</p>
            </div>

            <button class="accordion">Out of Hours</button>
            <div class="panel">
                <p>Weekday evenings. Weekends (Sat/Sun all day).</p>
                <p>NowDoc: Doctors on Call <strong>01 987 6543</strong></p>
            </div>
        </div>

        <div class="card">
            <h3>Cancellations</h3>
            <p>If you cannot attend your appointment for any reason, please let us know as soon as possible.</p>
            <p>Telling us in good time (Minimum 24 hours before your appointment) means we can offer the appointment to someone else. It also helps us to reduce waiting times for other patients and means everyone can be seen sooner.</p>
            <br>
            <p>To cancel your appointment please call <a href="tel:012345679"><strong>(01) 234 5679</strong></a>.</p>
        </div>
    </div>

    <footer id="footer-placeholder"></footer>

    <script src="js/siteData.js"></script>
    <script src="js/dynamicContent.js"></script>
    <script src="js/loadComponents.js"></script>
    <script src="js/main.js"></script>
    <script src="js/search.js"></script>
    <script>
        function submitAppointment() {
            const btn = document.querySelector('#appointmentForm .submit-btn');
            const form = document.getElementById('appointmentForm');
            const successMsg = document.getElementById('appSuccessMessage');

            btn.disabled = true;
            btn.textContent = "Sending...";

            const data = {
                formType: 'appointment',
                name: document.getElementById('appName').value,
                dob: document.getElementById('appDob').value,
                phone: document.getElementById('appPhone').value,
                email: document.getElementById('appEmail').value,
                address: document.getElementById('appAddress').value,
                type: document.getElementById('appType').value,
                preferredTime: document.getElementById('appTime').value,
                notes: document.getElementById('appNotes').value
            };

            const SCRIPT_WEB_APP_URL = CONFIG.SCRIPT_WEB_APP_URL;

            fetch(SCRIPT_WEB_APP_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'text/plain' },
                body: JSON.stringify(data)
            })
            .then(() => {
                form.reset();
                form.style.display = 'none';
                successMsg.style.display = 'block';
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred. Please try again or call reception.');
                btn.disabled = false;
                btn.textContent = "Request Appointment";
            });
        }
    </script>
<script src="js/welcome.js"></script>
</body>
</html>
